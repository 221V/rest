{"name":"REST","tagline":"Micro-REST with typed JSON","body":"REST: N2O separate endpoint\r\n===========================\r\n\r\nUsage\r\n-----\r\n\r\n```erlang\r\n{\"/rest/:resource\", rest_cowboy, []},\r\n{\"/rest/:resource/:id\", rest_cowboy, []},\r\n```\r\n\r\nModule\r\n------\r\n\r\n```erlang\r\n-module(users).\r\n-behaviour(rest).\r\n-compile({parse_transform, rest}).\r\n-include(\"users.hrl\").\r\n-export([init/0, populate/1, exists/1, get/0, get/1, post/1, delete/1]).\r\n-rest_record(user).\r\n\r\ninit() -> ets:new(users, [public, named_table, {keypos, #user.id}]).\r\npopulate(Users) -> ets:insert(users, Users).\r\nexists(Id) -> ets:member(users, wf:to_list(Id)).\r\nget() -> ets:tab2list(users).\r\nget(Id) -> [User] = ets:lookup(users, wf:to_list(Id)), User.\r\ndelete(Id) -> ets:delete(users, wf:to_list(Id)).\r\npost(#user{} = User) -> ets:insert(users, User);\r\npost(Data) -> post(from_json(Data, #user{})).\r\n```\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}